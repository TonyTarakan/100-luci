<%
	luci.http.prepare_content("text/html")

	local location = { unpack(luci.dispatcher.context.path) }
	location[#location] = "topology"
%>

<%+header%>
        <meta charset="utf-8">
<link href="<%=resource%>/src/netjsongraph.css" rel="stylesheet">
<link href="<%=resource%>/src/netjsongraph-theme.css" rel="stylesheet">        
<style>
	/*body
        {overflow: hidden}*/

  body
  {
    background-color:#eee;
    display:block;
    height:100%
  }
  .content-body
  {
    width:100%;
    height:100%;
    margin:0 auto;
  }
  .section-row
  {
    display:flex;
    margin-top:0.3rem;
    flex-direction:row;
    flex-wrap:nowrap;
    width:100%;
    height:800px;
  }

	.node {
    cursor: pointer;
  }

  .overlay{
      background-color:#FFF;
      width:100%;
      height:100%
  }

  .treeview{
      display:block;
      background-color:#FFF;
      width:70%;
      height:100%;
      -webkit-transition:box-shadow .3s ease-in-out 0;
      -moz-transition:box-shadow .3s ease-in-out 0;
      -o-transition:box-shadow .3s ease-in-out 0;
      -ms-transition:box-shadow .3s ease-in-out 0;
      transition:box-shadow .3s ease-in-out 0;
      box-shadow:0 2px 10px 0 rgba(0,0,0,0.14),0 1px 5px 0 rgba(0,0,0,0.12),0 3px 1px -2px rgba(0,0,0,0.2);
  }

  .netview{
      display:block;
      background-color:#FFF;
      margin-left:0.3rem;
    width:30%;
      -webkit-transition:box-shadow .3s ease-in-out 0;
      -moz-transition:box-shadow .3s ease-in-out 0;
      -o-transition:box-shadow .3s ease-in-out 0;
      -ms-transition:box-shadow .3s ease-in-out 0;
      transition:box-shadow .3s ease-in-out 0;
      box-shadow:0 2px 10px 0 rgba(0,0,0,0.14),0 1px 5px 0 rgba(0,0,0,0.12),0 3px 1px -2px rgba(0,0,0,0.2);
  }
   
  .node circle {
    fill: #fff;
    stroke: steelblue;
    stroke-width: 1.5px;
  }
   
  .node text {
    font-size:10px; 
    font-family:sans-serif;
  }
   
  .link {
    fill: none;
    stroke: #ccc;
    stroke-width: 1.5px;
  }

  .templink {
    fill: none;
    stroke: red;
    stroke-width: 3px;
  }

  .ghostCircle.show{
      display:block;
  }

  .ghostCircle, .activeDrag .ghostCircle{
       display: none;
  }

	
	</style>


<script src="<%=resource%>/src/jquery-1.10.2.min.js"></script>
<script src="<%=resource%>/src/d3.v3.min.js"></script>
<script src="<%=resource%>/src/dndTree.js"></script>

<!--  <div class="content-body"> -->
    <div class="section-row">
      <div id="tree-container" class="treeview" width="70%" height="100%"></div>
      <div id="net-container" class="netview"></div>
    </div>
  </div>
	
<%+footer%> 
